<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:p="http://primefaces.org/ui">

<h:head>
  	<meta charset="UTF-8"></meta>
  	<title>CPIM DO BRASIL - TESTE TÉCNICO</title>

   	<link rel="stylesheet" href="css/style.css"></link> 
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"></link>

</h:head>


<h:body>

<header class="ccheader">
    <h1>Lista de Usuários</h1>	
</header>
<div class="wrapper">
    <h:form method="post" action="" class="ccform">

    	  
    	
    	 <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
        	<p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        	<p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
    	</p:confirmDialog>

		<p:dataTable var="usuario" value="#{usuarioBean.listaUsuarios}">
		    <p:column headerText="Id" style="width:20px;text-align: center">
		        <h:outputText value="#{usuario.id}" />
		    </p:column>
		 
		    <p:column headerText="Nome">
		        <h:outputText value="#{usuario.nome}" />
		    </p:column>
		 
		    <p:column headerText="Email">
		        <h:outputText value="#{usuario.email}" />
		    </p:column>
		 
		    <p:column headerText="Telefone" style="width:90px;text-align: center">
		        <h:outputText value="#{usuario.telefone}" />
		    </p:column>

		    <p:column headerText="Sexo" style="width:50px;text-align: center">
		        <h:outputText value="#{usuario.sexo}" />
		    </p:column>
		    
		    <p:column headerText="Operações" style="width:85px;text-align: center">
		    	<p:growl id="message" showDetail="true" sticky="true" />
			    <p:commandLink id="botao_alterar" immediate="true" action="alterarUsuario" actionListener="#{usuarioBean.alterarAction}">
			        <f:param name="id" value="#{usuario.id}" />
					<h:graphicImage value="imagens/editar.png" width="30" heigth="30" alt="Editar Usuário"/>
			    </p:commandLink>
			    <p:commandLink id="botao_excluir" immediate="true" actionListener="#{usuarioBean.excluirAction}" update="message">
			        <f:param name="id" value="#{usuario.id}" />
					<h:graphicImage value="imagens/excluir.png" width="30" heigth="30" alt="Excluir Usuário"/>
					<p:confirm header="Confirmação" message="Excluir o usuário?" icon="ui-icon-alert" />
					
			    </p:commandLink>
		    </p:column>

		</p:dataTable>

	    <div class="ccfield-prepend">
    		<p:commandButton actionListener="#{usuarioBean.incluirAction}" action="incluirUsuario" title="Incluir" value="Incluir" />
	    </div>

    </h:form>
</div>
</h:body>
</html>
